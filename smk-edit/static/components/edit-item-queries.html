<div>
    <div class="row" v-if="queries.length == 0">
        <div class="col s12">
            <p>No queries defined</p>
        </div>
    </div>

    <ul class="collapsible popout" ref="collapsible"
        xxv-bind:key="queriesKey"
        v-if="queries.length > 0"
    >
        <li v-for="query,i in queries"
            v-bind:data-index="i"
        >
            <div class="collapsible-header">
                <i class="material-icons">article</i>
                <span>
                    <h5>{{ query.title }}</h5>
                    <h6>{{ query.description }}</h6>
                </span>
                <div class="widgets">
                    <a class="btn-flat red-text"
                        v-on:click.stop="removeQuery( i )"
                    ><i class="material-icons">delete_forever</i></a>
                </div>
            </div>
            <div class="collapsible-body">
                <div v-if="activeQueryIndex == i"
                    v-bind:key="activeQueryIndex"
                >
                    <div class="row">
                        <input-textarea class="col s6"
                            v-model="queryTitle"
                        >Query Title</input-textarea>

                        <input-textarea class="col s6"
                            v-model="queryDescription"
                        >Query Description</input-textarea>
                    </div>

                    <edit-item-query-parameters
                        v-bind:itemId="itemId"
                        v-bind:queryId="queryId"
                    ></edit-item-query-parameters>

                    <edit-item-query-predicate
                        v-bind:itemId="itemId"
                        v-bind:queryId="queryId"
                    ></edit-item-query-predicate>
                </div>
            </div>
        </li>
    </ul>

    <div class="row">
        <div class="col s12 xxright-align">
            <a class="waves-effect waves-light btn blue-grey darken-2"
                v-on:click="addQuery"
            ><i class="material-icons left">playlist_add</i>Add New Query</a>
        </div>
    </div>

</div>
